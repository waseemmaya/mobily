{"dependencies":[{"name":"emitter","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var Emitter = _$$_REQUIRE(_dependencyMap[0], \"emitter\");\n\n  function Stream() {\n    Emitter.call(this);\n  }\n\n  Stream.prototype = new Emitter();\n  module.exports = Stream;\n  Stream.Stream = Stream;\n\n  Stream.prototype.pipe = function (dest, options) {\n    var source = this;\n\n    function ondata(chunk) {\n      if (dest.writable) {\n        if (false === dest.write(chunk) && source.pause) {\n          source.pause();\n        }\n      }\n    }\n\n    source.on('data', ondata);\n\n    function ondrain() {\n      if (source.readable && source.resume) {\n        source.resume();\n      }\n    }\n\n    dest.on('drain', ondrain);\n\n    if (!dest._isStdio && (!options || options.end !== false)) {\n      source.on('end', onend);\n      source.on('close', onclose);\n    }\n\n    var didOnEnd = false;\n\n    function onend() {\n      if (didOnEnd) return;\n      didOnEnd = true;\n      dest.end();\n    }\n\n    function onclose() {\n      if (didOnEnd) return;\n      didOnEnd = true;\n      if (typeof dest.destroy === 'function') dest.destroy();\n    }\n\n    function onerror(er) {\n      cleanup();\n\n      if (!this.hasListeners('error')) {\n        throw er;\n      }\n    }\n\n    source.on('error', onerror);\n    dest.on('error', onerror);\n\n    function cleanup() {\n      source.off('data', ondata);\n      dest.off('drain', ondrain);\n      source.off('end', onend);\n      source.off('close', onclose);\n      source.off('error', onerror);\n      dest.off('error', onerror);\n      source.off('end', cleanup);\n      source.off('close', cleanup);\n      dest.off('end', cleanup);\n      dest.off('close', cleanup);\n    }\n\n    source.on('end', cleanup);\n    source.on('close', cleanup);\n    dest.on('end', cleanup);\n    dest.on('close', cleanup);\n    dest.emit('pipe', source);\n    return dest;\n  };\n});","map":[[2,0,22,0],[2,6,22,4,"Emitter"],[2,13,22,11],[2,16,22,14,"require"],[2,27,22,21],[2,57,22,0],[4,0,24,0],[4,11,24,9,"Stream"],[4,17,24,0],[4,20,24,18],[5,0,25,2,"Emitter"],[5,4,25,2,"Emitter"],[5,11,25,9],[5,12,25,10,"call"],[5,16,25,2],[5,17,25,15],[5,21,25,2],[6,0,26,1],[8,0,27,0,"Stream"],[8,2,27,0,"Stream"],[8,8,27,6],[8,9,27,7,"prototype"],[8,18,27,0],[8,21,27,19],[8,25,27,23,"Emitter"],[8,32,27,19],[8,34,27,0],[9,0,28,0,"module"],[9,2,28,0,"module"],[9,8,28,6],[9,9,28,7,"exports"],[9,16,28,0],[9,19,28,17,"Stream"],[9,25,28,0],[10,0,30,0,"Stream"],[10,2,30,0,"Stream"],[10,8,30,6],[10,9,30,7,"Stream"],[10,15,30,0],[10,18,30,16,"Stream"],[10,24,30,0],[12,0,32,0,"Stream"],[12,2,32,0,"Stream"],[12,8,32,6],[12,9,32,7,"prototype"],[12,18,32,0],[12,19,32,17,"pipe"],[12,23,32,0],[12,26,32,24],[12,36,32,33,"dest"],[12,40,32,24],[12,42,32,39,"options"],[12,49,32,24],[12,51,32,48],[13,0,33,2],[13,8,33,6,"source"],[13,14,33,12],[13,17,33,15],[13,21,33,2],[15,0,35,2],[15,13,35,11,"ondata"],[15,19,35,2],[15,20,35,18,"chunk"],[15,25,35,2],[15,27,35,25],[16,0,36,4],[16,10,36,8,"dest"],[16,14,36,12],[16,15,36,13,"writable"],[16,23,36,4],[16,25,36,23],[17,0,37,6],[17,12,37,10],[17,22,37,20,"dest"],[17,26,37,24],[17,27,37,25,"write"],[17,32,37,20],[17,33,37,31,"chunk"],[17,38,37,20],[17,39,37,10],[17,43,37,41,"source"],[17,49,37,47],[17,50,37,48,"pause"],[17,55,37,6],[17,57,37,55],[18,0,38,8,"source"],[18,10,38,8,"source"],[18,16,38,14],[18,17,38,15,"pause"],[18,22,38,8],[19,0,39,7],[20,0,40,5],[21,0,41,3],[23,0,43,2,"source"],[23,4,43,2,"source"],[23,10,43,8],[23,11,43,9,"on"],[23,13,43,2],[23,14,43,12],[23,20,43,2],[23,22,43,20,"ondata"],[23,28,43,2],[25,0,45,2],[25,13,45,11,"ondrain"],[25,20,45,2],[25,23,45,21],[26,0,46,4],[26,10,46,8,"source"],[26,16,46,14],[26,17,46,15,"readable"],[26,25,46,8],[26,29,46,27,"source"],[26,35,46,33],[26,36,46,34,"resume"],[26,42,46,4],[26,44,46,42],[27,0,47,6,"source"],[27,8,47,6,"source"],[27,14,47,12],[27,15,47,13,"resume"],[27,21,47,6],[28,0,48,5],[29,0,49,3],[31,0,51,2,"dest"],[31,4,51,2,"dest"],[31,8,51,6],[31,9,51,7,"on"],[31,11,51,2],[31,12,51,10],[31,19,51,2],[31,21,51,19,"ondrain"],[31,28,51,2],[33,0,55,2],[33,8,55,6],[33,9,55,7,"dest"],[33,13,55,11],[33,14,55,12,"_isStdio"],[33,22,55,6],[33,27,55,25],[33,28,55,26,"options"],[33,35,55,25],[33,39,55,37,"options"],[33,46,55,44],[33,47,55,45,"end"],[33,50,55,37],[33,55,55,53],[33,60,55,6],[33,61,55,2],[33,63,55,61],[34,0,56,4,"source"],[34,6,56,4,"source"],[34,12,56,10],[34,13,56,11,"on"],[34,15,56,4],[34,16,56,14],[34,21,56,4],[34,23,56,21,"onend"],[34,28,56,4],[35,0,57,4,"source"],[35,6,57,4,"source"],[35,12,57,10],[35,13,57,11,"on"],[35,15,57,4],[35,16,57,14],[35,23,57,4],[35,25,57,23,"onclose"],[35,32,57,4],[36,0,58,3],[38,0,60,2],[38,8,60,6,"didOnEnd"],[38,16,60,14],[38,19,60,17],[38,24,60,2],[40,0,61,2],[40,13,61,11,"onend"],[40,18,61,2],[40,21,61,19],[41,0,62,4],[41,10,62,8,"didOnEnd"],[41,18,62,4],[41,20,62,18],[42,0,63,4,"didOnEnd"],[42,6,63,4,"didOnEnd"],[42,14,63,12],[42,17,63,15],[42,21,63,4],[43,0,65,4,"dest"],[43,6,65,4,"dest"],[43,10,65,8],[43,11,65,9,"end"],[43,14,65,4],[44,0,66,3],[46,0,69,2],[46,13,69,11,"onclose"],[46,20,69,2],[46,23,69,21],[47,0,70,4],[47,10,70,8,"didOnEnd"],[47,18,70,4],[47,20,70,18],[48,0,71,4,"didOnEnd"],[48,6,71,4,"didOnEnd"],[48,14,71,12],[48,17,71,15],[48,21,71,4],[49,0,73,4],[49,10,73,8],[49,17,73,15,"dest"],[49,21,73,19],[49,22,73,20,"destroy"],[49,29,73,8],[49,34,73,32],[49,44,73,4],[49,46,73,44,"dest"],[49,50,73,48],[49,51,73,49,"destroy"],[49,58,73,44],[50,0,74,3],[52,0,77,2],[52,13,77,11,"onerror"],[52,20,77,2],[52,21,77,19,"er"],[52,23,77,2],[52,25,77,23],[53,0,78,4,"cleanup"],[53,6,78,4,"cleanup"],[53,13,78,11],[55,0,79,4],[55,10,79,8],[55,11,79,9],[55,16,79,14,"hasListeners"],[55,28,79,9],[55,29,79,27],[55,36,79,9],[55,37,79,4],[55,39,79,37],[56,0,80,6],[56,14,80,12,"er"],[56,16,80,6],[57,0,81,5],[58,0,82,3],[60,0,84,2,"source"],[60,4,84,2,"source"],[60,10,84,8],[60,11,84,9,"on"],[60,13,84,2],[60,14,84,12],[60,21,84,2],[60,23,84,21,"onerror"],[60,30,84,2],[61,0,85,2,"dest"],[61,4,85,2,"dest"],[61,8,85,6],[61,9,85,7,"on"],[61,11,85,2],[61,12,85,10],[61,19,85,2],[61,21,85,19,"onerror"],[61,28,85,2],[63,0,88,2],[63,13,88,11,"cleanup"],[63,20,88,2],[63,23,88,21],[64,0,89,4,"source"],[64,6,89,4,"source"],[64,12,89,10],[64,13,89,11,"off"],[64,16,89,4],[64,17,89,15],[64,23,89,4],[64,25,89,23,"ondata"],[64,31,89,4],[65,0,90,4,"dest"],[65,6,90,4,"dest"],[65,10,90,8],[65,11,90,9,"off"],[65,14,90,4],[65,15,90,13],[65,22,90,4],[65,24,90,22,"ondrain"],[65,31,90,4],[66,0,92,4,"source"],[66,6,92,4,"source"],[66,12,92,10],[66,13,92,11,"off"],[66,16,92,4],[66,17,92,15],[66,22,92,4],[66,24,92,22,"onend"],[66,29,92,4],[67,0,93,4,"source"],[67,6,93,4,"source"],[67,12,93,10],[67,13,93,11,"off"],[67,16,93,4],[67,17,93,15],[67,24,93,4],[67,26,93,24,"onclose"],[67,33,93,4],[68,0,95,4,"source"],[68,6,95,4,"source"],[68,12,95,10],[68,13,95,11,"off"],[68,16,95,4],[68,17,95,15],[68,24,95,4],[68,26,95,24,"onerror"],[68,33,95,4],[69,0,96,4,"dest"],[69,6,96,4,"dest"],[69,10,96,8],[69,11,96,9,"off"],[69,14,96,4],[69,15,96,13],[69,22,96,4],[69,24,96,22,"onerror"],[69,31,96,4],[70,0,98,4,"source"],[70,6,98,4,"source"],[70,12,98,10],[70,13,98,11,"off"],[70,16,98,4],[70,17,98,15],[70,22,98,4],[70,24,98,22,"cleanup"],[70,31,98,4],[71,0,99,4,"source"],[71,6,99,4,"source"],[71,12,99,10],[71,13,99,11,"off"],[71,16,99,4],[71,17,99,15],[71,24,99,4],[71,26,99,24,"cleanup"],[71,33,99,4],[72,0,101,4,"dest"],[72,6,101,4,"dest"],[72,10,101,8],[72,11,101,9,"off"],[72,14,101,4],[72,15,101,13],[72,20,101,4],[72,22,101,20,"cleanup"],[72,29,101,4],[73,0,102,4,"dest"],[73,6,102,4,"dest"],[73,10,102,8],[73,11,102,9,"off"],[73,14,102,4],[73,15,102,13],[73,22,102,4],[73,24,102,22,"cleanup"],[73,31,102,4],[74,0,103,3],[76,0,105,2,"source"],[76,4,105,2,"source"],[76,10,105,8],[76,11,105,9,"on"],[76,13,105,2],[76,14,105,12],[76,19,105,2],[76,21,105,19,"cleanup"],[76,28,105,2],[77,0,106,2,"source"],[77,4,106,2,"source"],[77,10,106,8],[77,11,106,9,"on"],[77,13,106,2],[77,14,106,12],[77,21,106,2],[77,23,106,21,"cleanup"],[77,30,106,2],[78,0,108,2,"dest"],[78,4,108,2,"dest"],[78,8,108,6],[78,9,108,7,"on"],[78,11,108,2],[78,12,108,10],[78,17,108,2],[78,19,108,17,"cleanup"],[78,26,108,2],[79,0,109,2,"dest"],[79,4,109,2,"dest"],[79,8,109,6],[79,9,109,7,"on"],[79,11,109,2],[79,12,109,10],[79,19,109,2],[79,21,109,19,"cleanup"],[79,28,109,2],[80,0,111,2,"dest"],[80,4,111,2,"dest"],[80,8,111,6],[80,9,111,7,"emit"],[80,13,111,2],[80,14,111,12],[80,20,111,2],[80,22,111,20,"source"],[80,28,111,2],[81,0,114,2],[81,11,114,9,"dest"],[81,15,114,2],[82,0,115,1],[82,3,32,0]]},"type":"js/module"}]}