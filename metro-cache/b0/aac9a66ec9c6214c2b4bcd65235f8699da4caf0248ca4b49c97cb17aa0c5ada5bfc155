{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"axios","data":{"isAsync":false}},{"name":"../API/API","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.viewIncrement = exports.searchMoreAds = exports.searchAds = exports.getTotalAds = exports.fetchMoreAds = exports.getLatestAds = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _axios = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"axios\"));\n\n  var _API = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../API/API\"));\n\n  var warn = console.warn();\n\n  var getLatestAds = function getLatestAds(no) {\n    var count, latestAds, _latestAds$data, ads, lastId, res;\n\n    return _regenerator.default.async(function getLatestAds$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            count = no ? no : 30;\n            _context.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads?count=\" + count));\n\n          case 3:\n            latestAds = _context.sent;\n            _latestAds$data = latestAds.data, ads = _latestAds$data.ads, lastId = _latestAds$data.lastId;\n            res = {\n              ads: ads,\n              lastId: lastId\n            };\n            return _context.abrupt(\"return\", res);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  exports.getLatestAds = getLatestAds;\n\n  var fetchMoreAds = function fetchMoreAds(oldLastId) {\n    var url, data, _data$data, ads, lastId, res;\n\n    return _regenerator.default.async(function fetchMoreAds$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = _API.default + \"ads?lastId=\" + oldLastId;\n            _context2.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(url));\n\n          case 3:\n            data = _context2.sent;\n            _data$data = data.data, ads = _data$data.ads, lastId = _data$data.lastId;\n            res = {\n              ads: ads,\n              lastId: lastId\n            };\n            return _context2.abrupt(\"return\", res);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n\n  exports.fetchMoreAds = fetchMoreAds;\n\n  var getTotalAds = function getTotalAds() {\n    var data, adsLength;\n    return _regenerator.default.async(function getTotalAds$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/adscount\"));\n\n          case 2:\n            data = _context3.sent;\n            adsLength = data.data.adsLength;\n            return _context3.abrupt(\"return\", adsLength);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n\n  exports.getTotalAds = getTotalAds;\n\n  var searchAds = function searchAds(searchQuery) {\n    var resObj, res, status, data;\n    return _regenerator.default.async(function searchAds$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log('in');\n            resObj = {};\n            _context4.prev = 2;\n            _context4.next = 5;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/search?query=\" + searchQuery));\n\n          case 5:\n            res = _context4.sent;\n            status = res.status, data = res.data;\n            resObj.status = status;\n            resObj.ads = data.ads, resObj.lastId = data.lastId, resObj.totalQueryAds = data.totalQueryAds;\n            _context4.next = 15;\n            break;\n\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](2);\n            resObj.status = 404;\n            console.log('error: ---->', _context4.t0);\n\n          case 15:\n            return _context4.abrupt(\"return\", resObj);\n\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[2, 11]]);\n  };\n\n  exports.searchAds = searchAds;\n\n  var searchMoreAds = function searchMoreAds(searchQuery, oldLastId) {\n    var resObj, res, status, data;\n    return _regenerator.default.async(function searchMoreAds$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            resObj = {};\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/search?query=\" + searchQuery + \"&lastId=\" + oldLastId));\n\n          case 4:\n            res = _context5.sent;\n            status = res.status, data = res.data;\n            resObj.status = status;\n            resObj.ads = data.ads, resObj.lastId = data.lastId;\n            _context5.next = 15;\n            break;\n\n          case 10:\n            _context5.prev = 10;\n            _context5.t0 = _context5[\"catch\"](1);\n            resObj.status = 404;\n            console.log('err: ----> ', _context5.t0);\n            console.log('err:  --->', _context5.t0.message);\n\n          case 15:\n            return _context5.abrupt(\"return\", resObj);\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[1, 10]]);\n  };\n\n  exports.searchMoreAds = searchMoreAds;\n\n  var viewIncrement = function viewIncrement(id) {\n    var response;\n    return _regenerator.default.async(function viewIncrement$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads?id=\" + id));\n\n          case 3:\n            response = _context6.sent;\n            return _context6.abrupt(\"return\", response);\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.log('error: ', _context6.t0);\n            return _context6.abrupt(\"return\", _context6.t0);\n\n          case 11:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 7]]);\n  };\n\n  exports.viewIncrement = viewIncrement;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,4,0],[15,6,4,4,"warn"],[15,10,4,8],[15,13,4,11,"console"],[15,20,4,18],[15,21,4,19,"warn"],[15,25,4,11],[15,27,4,0],[17,0,9,7],[17,6,9,13,"getLatestAds"],[17,18,9,25],[17,21,9,28],[17,30,9,13,"getLatestAds"],[17,42,9,28],[17,43,9,35,"no"],[17,45,9,28],[18,0,9,28],[20,0,9,28],[21,0,9,28],[22,0,9,28],[23,0,9,28],[24,0,10,8,"count"],[24,12,10,8,"count"],[24,17,9,28],[24,20,10,16,"no"],[24,22,10,18],[24,25,10,21,"no"],[24,27,10,18],[24,30,10,26],[24,32,9,28],[25,0,9,28],[26,0,9,28],[26,46,11,26,"axios"],[26,61,11,32,"get"],[26,64,11,26],[26,65,11,39,"API"],[26,77,11,26],[26,95,11,55,"count"],[26,100,11,26],[26,101,9,28],[28,0,9,28],[29,0,11,8,"latestAds"],[29,12,11,8,"latestAds"],[29,21,9,28],[30,0,9,28],[30,30,12,26,"latestAds"],[30,39,12,35],[30,40,12,36,"data"],[30,44,9,28],[30,46,12,10,"ads"],[30,49,9,28],[30,68,12,10,"ads"],[30,71,9,28],[30,73,12,15,"lastId"],[30,79,9,28],[30,98,12,15,"lastId"],[30,104,9,28],[31,0,13,8,"res"],[31,12,13,8,"res"],[31,15,9,28],[31,18,13,14],[32,0,14,8,"ads"],[32,14,14,8,"ads"],[32,17,14,11],[32,19,14,8,"ads"],[32,22,13,14],[33,0,15,8,"lastId"],[33,14,15,8,"lastId"],[33,20,15,14],[33,22,15,8,"lastId"],[34,0,13,14],[34,13,9,28],[35,0,9,28],[35,45,17,11,"res"],[35,48,9,28],[37,0,9,28],[38,0,9,28],[39,0,9,28],[40,0,9,28],[41,0,9,28],[42,0,9,28],[43,0,9,28],[43,3,9,7],[47,0,20,7],[47,6,20,13,"fetchMoreAds"],[47,18,20,25],[47,21,20,28],[47,30,20,13,"fetchMoreAds"],[47,42,20,28],[47,43,20,35,"oldLastId"],[47,52,20,28],[48,0,20,28],[50,0,20,28],[51,0,20,28],[52,0,20,28],[53,0,20,28],[54,0,21,8,"url"],[54,12,21,8,"url"],[54,15,20,28],[54,18,21,17,"API"],[54,30,20,28],[54,49,21,34,"oldLastId"],[54,58,20,28],[55,0,20,28],[56,0,20,28],[56,46,22,21,"axios"],[56,61,22,27,"get"],[56,64,22,21],[56,65,22,31,"url"],[56,68,22,21],[56,69,20,28],[58,0,20,28],[59,0,22,8,"data"],[59,12,22,8,"data"],[59,16,20,28],[60,0,20,28],[60,25,23,26,"data"],[60,29,23,30],[60,30,23,31,"data"],[60,34,20,28],[60,36,23,10,"ads"],[60,39,20,28],[60,53,23,10,"ads"],[60,56,20,28],[60,58,23,15,"lastId"],[60,64,20,28],[60,78,23,15,"lastId"],[60,84,20,28],[61,0,24,8,"res"],[61,12,24,8,"res"],[61,15,20,28],[61,18,24,14],[62,0,25,8,"ads"],[62,14,25,8,"ads"],[62,17,25,11],[62,19,25,8,"ads"],[62,22,24,14],[63,0,26,8,"lastId"],[63,14,26,8,"lastId"],[63,20,26,14],[63,22,26,8,"lastId"],[64,0,24,14],[64,13,20,28],[65,0,20,28],[65,46,28,11,"res"],[65,49,20,28],[67,0,20,28],[68,0,20,28],[69,0,20,28],[70,0,20,28],[71,0,20,28],[72,0,20,28],[73,0,20,28],[73,3,20,7],[77,0,32,7],[77,6,32,13,"getTotalAds"],[77,17,32,24],[77,20,32,27],[77,29,32,13,"getTotalAds"],[77,40,32,27],[78,0,32,27],[79,0,32,27],[80,0,32,27],[81,0,32,27],[82,0,32,27],[83,0,32,27],[84,0,32,27],[84,46,33,21,"axios"],[84,61,33,27,"get"],[84,64,33,21],[84,65,33,34,"API"],[84,77,33,21],[84,95,32,27],[86,0,32,27],[87,0,33,8,"data"],[87,12,33,8,"data"],[87,16,32,27],[88,0,34,10,"adsLength"],[88,12,34,10,"adsLength"],[88,21,32,27],[88,24,34,24,"data"],[88,28,34,28],[88,29,34,29,"data"],[88,33,32,27],[88,34,34,10,"adsLength"],[88,43,32,27],[89,0,32,27],[89,46,35,11,"adsLength"],[89,55,32,27],[91,0,32,27],[92,0,32,27],[93,0,32,27],[94,0,32,27],[95,0,32,27],[96,0,32,27],[97,0,32,27],[97,3,32,7],[101,0,38,7],[101,6,38,13,"searchAds"],[101,15,38,22],[101,18,38,25],[101,27,38,13,"searchAds"],[101,36,38,25],[101,37,38,32,"searchQuery"],[101,48,38,25],[102,0,38,25],[103,0,38,25],[104,0,38,25],[105,0,38,25],[106,0,38,25],[107,0,39,4,"console"],[107,12,39,4,"console"],[107,19,39,11],[107,20,39,12,"log"],[107,23,39,4],[107,24,39,16],[107,28,39,4],[108,0,40,8,"resObj"],[108,12,40,8,"resObj"],[108,18,38,25],[108,21,40,17],[108,23,38,25],[109,0,38,25],[110,0,38,25],[111,0,38,25],[111,46,42,24,"axios"],[111,61,42,30,"get"],[111,64,42,24],[111,65,42,37,"API"],[111,77,42,24],[111,102,42,60,"searchQuery"],[111,113,42,24],[111,114,38,25],[113,0,38,25],[114,0,42,12,"res"],[114,12,42,12,"res"],[114,15,38,25],[115,0,43,16,"status"],[115,12,43,16,"status"],[115,18,38,25],[115,21,43,33,"res"],[115,24,38,25],[115,25,43,16,"status"],[115,31,38,25],[115,33,43,24,"data"],[115,37,38,25],[115,40,43,33,"res"],[115,43,38,25],[115,44,43,24,"data"],[115,48,38,25],[116,0,44,8,"resObj"],[116,12,44,8,"resObj"],[116,18,44,14],[116,19,44,15,"status"],[116,25,44,8],[116,28,44,24,"status"],[116,34,44,8],[117,0,45,9,"resObj"],[117,12,45,9,"resObj"],[117,18,45,15],[117,19,45,16,"ads"],[117,22,45,9],[117,25,45,22,"data"],[117,29,45,26],[117,30,45,27,"ads"],[117,33,45,8],[117,35,45,34,"resObj"],[117,41,45,40],[117,42,45,41,"lastId"],[117,48,45,34],[117,51,45,50,"data"],[117,55,45,54],[117,56,45,55,"lastId"],[117,62,45,8],[117,64,45,65,"resObj"],[117,70,45,71],[117,71,45,72,"totalQueryAds"],[117,84,45,65],[117,87,45,88,"data"],[117,91,45,92],[117,92,45,93,"totalQueryAds"],[117,105,45,8],[118,0,38,25],[119,0,38,25],[121,0,38,25],[122,0,38,25],[123,0,38,25],[124,0,47,8,"resObj"],[124,12,47,8,"resObj"],[124,18,47,14],[124,19,47,15,"status"],[124,25,47,8],[124,28,47,24],[124,31,47,8],[125,0,48,8,"console"],[125,12,48,8,"console"],[125,19,48,15],[125,20,48,16,"log"],[125,23,48,8],[125,24,48,20],[125,38,48,8],[127,0,38,25],[128,0,38,25],[128,46,51,11,"resObj"],[128,52,38,25],[130,0,38,25],[131,0,38,25],[132,0,38,25],[133,0,38,25],[134,0,38,25],[135,0,38,25],[136,0,38,25],[136,3,38,7],[140,0,54,7],[140,6,54,13,"searchMoreAds"],[140,19,54,26],[140,22,54,29],[140,31,54,13,"searchMoreAds"],[140,44,54,29],[140,45,54,36,"searchQuery"],[140,56,54,29],[140,58,54,49,"oldLastId"],[140,67,54,29],[141,0,54,29],[142,0,54,29],[143,0,54,29],[144,0,54,29],[145,0,54,29],[146,0,55,8,"resObj"],[146,12,55,8,"resObj"],[146,18,54,29],[146,21,55,17],[146,23,54,29],[147,0,54,29],[148,0,54,29],[149,0,54,29],[149,46,58,24,"axios"],[149,61,58,30,"get"],[149,64,58,24],[149,65,58,37,"API"],[149,77,58,24],[149,102,58,60,"searchQuery"],[149,113,58,24],[149,129,58,82,"oldLastId"],[149,138,58,24],[149,139,54,29],[151,0,54,29],[152,0,58,12,"res"],[152,12,58,12,"res"],[152,15,54,29],[153,0,59,14,"status"],[153,12,59,14,"status"],[153,18,54,29],[153,21,59,31,"res"],[153,24,54,29],[153,25,59,14,"status"],[153,31,54,29],[153,33,59,22,"data"],[153,37,54,29],[153,40,59,31,"res"],[153,43,54,29],[153,44,59,22,"data"],[153,48,54,29],[154,0,60,8,"resObj"],[154,12,60,8,"resObj"],[154,18,60,14],[154,19,60,15,"status"],[154,25,60,8],[154,28,60,24,"status"],[154,34,60,8],[155,0,61,9,"resObj"],[155,12,61,9,"resObj"],[155,18,61,15],[155,19,61,16,"ads"],[155,22,61,9],[155,25,61,22,"data"],[155,29,61,26],[155,30,61,27,"ads"],[155,33,61,8],[155,35,61,34,"resObj"],[155,41,61,40],[155,42,61,41,"lastId"],[155,48,61,34],[155,51,61,50,"data"],[155,55,61,54],[155,56,61,55,"lastId"],[155,62,61,8],[156,0,54,29],[157,0,54,29],[159,0,54,29],[160,0,54,29],[161,0,54,29],[162,0,63,8,"resObj"],[162,12,63,8,"resObj"],[162,18,63,14],[162,19,63,15,"status"],[162,25,63,8],[162,28,63,24],[162,31,63,8],[163,0,64,8,"console"],[163,12,64,8,"console"],[163,19,64,15],[163,20,64,16,"log"],[163,23,64,8],[163,24,64,20],[163,37,64,8],[164,0,65,8,"console"],[164,12,65,8,"console"],[164,19,65,15],[164,20,65,16,"log"],[164,23,65,8],[164,24,65,20],[164,36,65,8],[164,38,65,34],[164,51,65,38,"message"],[164,58,65,8],[166,0,54,29],[167,0,54,29],[167,46,68,11,"resObj"],[167,52,54,29],[169,0,54,29],[170,0,54,29],[171,0,54,29],[172,0,54,29],[173,0,54,29],[174,0,54,29],[175,0,54,29],[175,3,54,7],[179,0,71,7],[179,6,71,13,"viewIncrement"],[179,19,71,26],[179,22,71,29],[179,31,71,13,"viewIncrement"],[179,44,71,29],[179,45,71,36,"id"],[179,47,71,29],[180,0,71,29],[181,0,71,29],[182,0,71,29],[183,0,71,29],[184,0,71,29],[185,0,71,29],[186,0,71,29],[187,0,71,29],[187,46,73,29,"axios"],[187,61,73,35,"get"],[187,64,73,29],[187,65,73,42,"API"],[187,77,73,29],[187,92,73,55,"id"],[187,94,73,29],[187,95,71,29],[189,0,71,29],[190,0,73,12,"response"],[190,12,73,12,"response"],[190,20,71,29],[191,0,71,29],[191,46,74,15,"response"],[191,54,71,29],[193,0,71,29],[194,0,71,29],[195,0,71,29],[196,0,76,8,"console"],[196,12,76,8,"console"],[196,19,76,15],[196,20,76,16,"log"],[196,23,76,8],[196,24,76,20],[196,33,76,8],[197,0,71,29],[199,0,71,29],[200,0,71,29],[201,0,71,29],[202,0,71,29],[203,0,71,29],[204,0,71,29],[205,0,71,29],[205,3,71,7]]},"type":"js/module"}]}