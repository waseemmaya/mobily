{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"axios","data":{"isAsync":false}},{"name":"../API/API","data":{"isAsync":false}},{"name":"./AuthFunctions","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getFavtAds = exports.viewIncrement = exports.searchMoreAds = exports.searchAds = exports.getTotalAds = exports.fetchMoreAds = exports.getLatestAds = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _axios = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"axios\"));\n\n  var _API = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../API/API\"));\n\n  var _AuthFunctions = _$$_REQUIRE(_dependencyMap[4], \"./AuthFunctions\");\n\n  var warn = console.warn();\n\n  var getLatestAds = function getLatestAds(no) {\n    var count, latestAds, _latestAds$data, ads, lastId, res;\n\n    return _regenerator.default.async(function getLatestAds$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            count = no ? no : 30;\n            _context.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads?count=\" + count));\n\n          case 3:\n            latestAds = _context.sent;\n            _latestAds$data = latestAds.data, ads = _latestAds$data.ads, lastId = _latestAds$data.lastId;\n            res = {\n              ads: ads,\n              lastId: lastId\n            };\n            return _context.abrupt(\"return\", res);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  exports.getLatestAds = getLatestAds;\n\n  var fetchMoreAds = function fetchMoreAds(oldLastId) {\n    var url, data, _data$data, ads, lastId, res;\n\n    return _regenerator.default.async(function fetchMoreAds$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = _API.default + \"ads?lastId=\" + oldLastId;\n            _context2.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(url));\n\n          case 3:\n            data = _context2.sent;\n            _data$data = data.data, ads = _data$data.ads, lastId = _data$data.lastId;\n            res = {\n              ads: ads,\n              lastId: lastId\n            };\n            return _context2.abrupt(\"return\", res);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  };\n\n  exports.fetchMoreAds = fetchMoreAds;\n\n  var getTotalAds = function getTotalAds() {\n    var data, adsLength;\n    return _regenerator.default.async(function getTotalAds$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/adscount\"));\n\n          case 2:\n            data = _context3.sent;\n            adsLength = data.data.adsLength;\n            return _context3.abrupt(\"return\", adsLength);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n\n  exports.getTotalAds = getTotalAds;\n\n  var searchAds = function searchAds(searchQuery) {\n    var resObj, res, status, data;\n    return _regenerator.default.async(function searchAds$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log('in');\n            resObj = {};\n            _context4.prev = 2;\n            _context4.next = 5;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/search?query=\" + searchQuery));\n\n          case 5:\n            res = _context4.sent;\n            status = res.status, data = res.data;\n            resObj.status = status;\n            resObj.ads = data.ads, resObj.lastId = data.lastId, resObj.totalQueryAds = data.totalQueryAds;\n            _context4.next = 15;\n            break;\n\n          case 11:\n            _context4.prev = 11;\n            _context4.t0 = _context4[\"catch\"](2);\n            resObj.status = 404;\n            console.log('error: ---->', _context4.t0);\n\n          case 15:\n            return _context4.abrupt(\"return\", resObj);\n\n          case 16:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[2, 11]]);\n  };\n\n  exports.searchAds = searchAds;\n\n  var searchMoreAds = function searchMoreAds(searchQuery, oldLastId) {\n    var resObj, res, status, data;\n    return _regenerator.default.async(function searchMoreAds$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            resObj = {};\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/search?query=\" + searchQuery + \"&lastId=\" + oldLastId));\n\n          case 4:\n            res = _context5.sent;\n            status = res.status, data = res.data;\n            resObj.status = status;\n            resObj.ads = data.ads, resObj.lastId = data.lastId;\n            _context5.next = 15;\n            break;\n\n          case 10:\n            _context5.prev = 10;\n            _context5.t0 = _context5[\"catch\"](1);\n            resObj.status = 404;\n            console.log('err: ----> ', _context5.t0);\n            console.log('err:  --->', _context5.t0.message);\n\n          case 15:\n            return _context5.abrupt(\"return\", resObj);\n\n          case 16:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[1, 10]]);\n  };\n\n  exports.searchMoreAds = searchMoreAds;\n\n  var viewIncrement = function viewIncrement(id) {\n    var response;\n    return _regenerator.default.async(function viewIncrement$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads?id=\" + id));\n\n          case 3:\n            response = _context6.sent;\n            return _context6.abrupt(\"return\", response);\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.log('error: ', _context6.t0);\n            return _context6.abrupt(\"return\", _context6.t0);\n\n          case 11:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 7]]);\n  };\n\n  exports.viewIncrement = viewIncrement;\n\n  var getFavtAds = function getFavtAds() {\n    var userId, favtAds, ads, res;\n    return _regenerator.default.async(function getFavtAds$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return _regenerator.default.awrap((0, _AuthFunctions.getUserID)());\n\n          case 2:\n            userId = _context7.sent;\n            _context7.prev = 3;\n            _context7.next = 6;\n            return _regenerator.default.awrap(_axios.default.get(_API.default + \"ads/getfavtads?userId=\" + userId));\n\n          case 6:\n            favtAds = _context7.sent;\n            console.warn('favtAds: ', favtAds);\n            ads = favtAds.data.ads;\n            res = {\n              ads: ads\n            };\n            return _context7.abrupt(\"return\", res);\n\n          case 13:\n            _context7.prev = 13;\n            _context7.t0 = _context7[\"catch\"](3);\n            console.log('error: ', _context7.t0);\n            return _context7.abrupt(\"return\", _context7.t0);\n\n          case 17:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, [[3, 13]]);\n  };\n\n  exports.getFavtAds = getFavtAds;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,5,0],[17,6,5,4,"warn"],[17,10,5,8],[17,13,5,11,"console"],[17,20,5,18],[17,21,5,19,"warn"],[17,25,5,11],[17,27,5,0],[19,0,10,7],[19,6,10,13,"getLatestAds"],[19,18,10,25],[19,21,10,28],[19,30,10,13,"getLatestAds"],[19,42,10,28],[19,43,10,35,"no"],[19,45,10,28],[20,0,10,28],[22,0,10,28],[23,0,10,28],[24,0,10,28],[25,0,10,28],[26,0,11,8,"count"],[26,12,11,8,"count"],[26,17,10,28],[26,20,11,16,"no"],[26,22,11,18],[26,25,11,21,"no"],[26,27,11,18],[26,30,11,26],[26,32,10,28],[27,0,10,28],[28,0,10,28],[28,46,12,26,"axios"],[28,61,12,32,"get"],[28,64,12,26],[28,65,12,39,"API"],[28,77,12,26],[28,95,12,55,"count"],[28,100,12,26],[28,101,10,28],[30,0,10,28],[31,0,12,8,"latestAds"],[31,12,12,8,"latestAds"],[31,21,10,28],[32,0,10,28],[32,30,13,26,"latestAds"],[32,39,13,35],[32,40,13,36,"data"],[32,44,10,28],[32,46,13,10,"ads"],[32,49,10,28],[32,68,13,10,"ads"],[32,71,10,28],[32,73,13,15,"lastId"],[32,79,10,28],[32,98,13,15,"lastId"],[32,104,10,28],[33,0,14,8,"res"],[33,12,14,8,"res"],[33,15,10,28],[33,18,14,14],[34,0,15,8,"ads"],[34,14,15,8,"ads"],[34,17,15,11],[34,19,15,8,"ads"],[34,22,14,14],[35,0,16,8,"lastId"],[35,14,16,8,"lastId"],[35,20,16,14],[35,22,16,8,"lastId"],[36,0,14,14],[36,13,10,28],[37,0,10,28],[37,45,18,11,"res"],[37,48,10,28],[39,0,10,28],[40,0,10,28],[41,0,10,28],[42,0,10,28],[43,0,10,28],[44,0,10,28],[45,0,10,28],[45,3,10,7],[49,0,21,7],[49,6,21,13,"fetchMoreAds"],[49,18,21,25],[49,21,21,28],[49,30,21,13,"fetchMoreAds"],[49,42,21,28],[49,43,21,35,"oldLastId"],[49,52,21,28],[50,0,21,28],[52,0,21,28],[53,0,21,28],[54,0,21,28],[55,0,21,28],[56,0,22,8,"url"],[56,12,22,8,"url"],[56,15,21,28],[56,18,22,17,"API"],[56,30,21,28],[56,49,22,34,"oldLastId"],[56,58,21,28],[57,0,21,28],[58,0,21,28],[58,46,23,21,"axios"],[58,61,23,27,"get"],[58,64,23,21],[58,65,23,31,"url"],[58,68,23,21],[58,69,21,28],[60,0,21,28],[61,0,23,8,"data"],[61,12,23,8,"data"],[61,16,21,28],[62,0,21,28],[62,25,24,26,"data"],[62,29,24,30],[62,30,24,31,"data"],[62,34,21,28],[62,36,24,10,"ads"],[62,39,21,28],[62,53,24,10,"ads"],[62,56,21,28],[62,58,24,15,"lastId"],[62,64,21,28],[62,78,24,15,"lastId"],[62,84,21,28],[63,0,25,8,"res"],[63,12,25,8,"res"],[63,15,21,28],[63,18,25,14],[64,0,26,8,"ads"],[64,14,26,8,"ads"],[64,17,26,11],[64,19,26,8,"ads"],[64,22,25,14],[65,0,27,8,"lastId"],[65,14,27,8,"lastId"],[65,20,27,14],[65,22,27,8,"lastId"],[66,0,25,14],[66,13,21,28],[67,0,21,28],[67,46,29,11,"res"],[67,49,21,28],[69,0,21,28],[70,0,21,28],[71,0,21,28],[72,0,21,28],[73,0,21,28],[74,0,21,28],[75,0,21,28],[75,3,21,7],[79,0,33,7],[79,6,33,13,"getTotalAds"],[79,17,33,24],[79,20,33,27],[79,29,33,13,"getTotalAds"],[79,40,33,27],[80,0,33,27],[81,0,33,27],[82,0,33,27],[83,0,33,27],[84,0,33,27],[85,0,33,27],[86,0,33,27],[86,46,34,21,"axios"],[86,61,34,27,"get"],[86,64,34,21],[86,65,34,34,"API"],[86,77,34,21],[86,95,33,27],[88,0,33,27],[89,0,34,8,"data"],[89,12,34,8,"data"],[89,16,33,27],[90,0,35,10,"adsLength"],[90,12,35,10,"adsLength"],[90,21,33,27],[90,24,35,24,"data"],[90,28,35,28],[90,29,35,29,"data"],[90,33,33,27],[90,34,35,10,"adsLength"],[90,43,33,27],[91,0,33,27],[91,46,36,11,"adsLength"],[91,55,33,27],[93,0,33,27],[94,0,33,27],[95,0,33,27],[96,0,33,27],[97,0,33,27],[98,0,33,27],[99,0,33,27],[99,3,33,7],[103,0,39,7],[103,6,39,13,"searchAds"],[103,15,39,22],[103,18,39,25],[103,27,39,13,"searchAds"],[103,36,39,25],[103,37,39,32,"searchQuery"],[103,48,39,25],[104,0,39,25],[105,0,39,25],[106,0,39,25],[107,0,39,25],[108,0,39,25],[109,0,40,4,"console"],[109,12,40,4,"console"],[109,19,40,11],[109,20,40,12,"log"],[109,23,40,4],[109,24,40,16],[109,28,40,4],[110,0,41,8,"resObj"],[110,12,41,8,"resObj"],[110,18,39,25],[110,21,41,17],[110,23,39,25],[111,0,39,25],[112,0,39,25],[113,0,39,25],[113,46,43,24,"axios"],[113,61,43,30,"get"],[113,64,43,24],[113,65,43,37,"API"],[113,77,43,24],[113,102,43,60,"searchQuery"],[113,113,43,24],[113,114,39,25],[115,0,39,25],[116,0,43,12,"res"],[116,12,43,12,"res"],[116,15,39,25],[117,0,44,16,"status"],[117,12,44,16,"status"],[117,18,39,25],[117,21,44,33,"res"],[117,24,39,25],[117,25,44,16,"status"],[117,31,39,25],[117,33,44,24,"data"],[117,37,39,25],[117,40,44,33,"res"],[117,43,39,25],[117,44,44,24,"data"],[117,48,39,25],[118,0,45,8,"resObj"],[118,12,45,8,"resObj"],[118,18,45,14],[118,19,45,15,"status"],[118,25,45,8],[118,28,45,24,"status"],[118,34,45,8],[119,0,46,9,"resObj"],[119,12,46,9,"resObj"],[119,18,46,15],[119,19,46,16,"ads"],[119,22,46,9],[119,25,46,22,"data"],[119,29,46,26],[119,30,46,27,"ads"],[119,33,46,8],[119,35,46,34,"resObj"],[119,41,46,40],[119,42,46,41,"lastId"],[119,48,46,34],[119,51,46,50,"data"],[119,55,46,54],[119,56,46,55,"lastId"],[119,62,46,8],[119,64,46,65,"resObj"],[119,70,46,71],[119,71,46,72,"totalQueryAds"],[119,84,46,65],[119,87,46,88,"data"],[119,91,46,92],[119,92,46,93,"totalQueryAds"],[119,105,46,8],[120,0,39,25],[121,0,39,25],[123,0,39,25],[124,0,39,25],[125,0,39,25],[126,0,48,8,"resObj"],[126,12,48,8,"resObj"],[126,18,48,14],[126,19,48,15,"status"],[126,25,48,8],[126,28,48,24],[126,31,48,8],[127,0,49,8,"console"],[127,12,49,8,"console"],[127,19,49,15],[127,20,49,16,"log"],[127,23,49,8],[127,24,49,20],[127,38,49,8],[129,0,39,25],[130,0,39,25],[130,46,52,11,"resObj"],[130,52,39,25],[132,0,39,25],[133,0,39,25],[134,0,39,25],[135,0,39,25],[136,0,39,25],[137,0,39,25],[138,0,39,25],[138,3,39,7],[142,0,55,7],[142,6,55,13,"searchMoreAds"],[142,19,55,26],[142,22,55,29],[142,31,55,13,"searchMoreAds"],[142,44,55,29],[142,45,55,36,"searchQuery"],[142,56,55,29],[142,58,55,49,"oldLastId"],[142,67,55,29],[143,0,55,29],[144,0,55,29],[145,0,55,29],[146,0,55,29],[147,0,55,29],[148,0,56,8,"resObj"],[148,12,56,8,"resObj"],[148,18,55,29],[148,21,56,17],[148,23,55,29],[149,0,55,29],[150,0,55,29],[151,0,55,29],[151,46,59,24,"axios"],[151,61,59,30,"get"],[151,64,59,24],[151,65,59,37,"API"],[151,77,59,24],[151,102,59,60,"searchQuery"],[151,113,59,24],[151,129,59,82,"oldLastId"],[151,138,59,24],[151,139,55,29],[153,0,55,29],[154,0,59,12,"res"],[154,12,59,12,"res"],[154,15,55,29],[155,0,60,14,"status"],[155,12,60,14,"status"],[155,18,55,29],[155,21,60,31,"res"],[155,24,55,29],[155,25,60,14,"status"],[155,31,55,29],[155,33,60,22,"data"],[155,37,55,29],[155,40,60,31,"res"],[155,43,55,29],[155,44,60,22,"data"],[155,48,55,29],[156,0,61,8,"resObj"],[156,12,61,8,"resObj"],[156,18,61,14],[156,19,61,15,"status"],[156,25,61,8],[156,28,61,24,"status"],[156,34,61,8],[157,0,62,9,"resObj"],[157,12,62,9,"resObj"],[157,18,62,15],[157,19,62,16,"ads"],[157,22,62,9],[157,25,62,22,"data"],[157,29,62,26],[157,30,62,27,"ads"],[157,33,62,8],[157,35,62,34,"resObj"],[157,41,62,40],[157,42,62,41,"lastId"],[157,48,62,34],[157,51,62,50,"data"],[157,55,62,54],[157,56,62,55,"lastId"],[157,62,62,8],[158,0,55,29],[159,0,55,29],[161,0,55,29],[162,0,55,29],[163,0,55,29],[164,0,64,8,"resObj"],[164,12,64,8,"resObj"],[164,18,64,14],[164,19,64,15,"status"],[164,25,64,8],[164,28,64,24],[164,31,64,8],[165,0,65,8,"console"],[165,12,65,8,"console"],[165,19,65,15],[165,20,65,16,"log"],[165,23,65,8],[165,24,65,20],[165,37,65,8],[166,0,66,8,"console"],[166,12,66,8,"console"],[166,19,66,15],[166,20,66,16,"log"],[166,23,66,8],[166,24,66,20],[166,36,66,8],[166,38,66,34],[166,51,66,38,"message"],[166,58,66,8],[168,0,55,29],[169,0,55,29],[169,46,69,11,"resObj"],[169,52,55,29],[171,0,55,29],[172,0,55,29],[173,0,55,29],[174,0,55,29],[175,0,55,29],[176,0,55,29],[177,0,55,29],[177,3,55,7],[181,0,72,7],[181,6,72,13,"viewIncrement"],[181,19,72,26],[181,22,72,29],[181,31,72,13,"viewIncrement"],[181,44,72,29],[181,45,72,36,"id"],[181,47,72,29],[182,0,72,29],[183,0,72,29],[184,0,72,29],[185,0,72,29],[186,0,72,29],[187,0,72,29],[188,0,72,29],[189,0,72,29],[189,46,74,29,"axios"],[189,61,74,35,"get"],[189,64,74,29],[189,65,74,42,"API"],[189,77,74,29],[189,92,74,55,"id"],[189,94,74,29],[189,95,72,29],[191,0,72,29],[192,0,74,12,"response"],[192,12,74,12,"response"],[192,20,72,29],[193,0,72,29],[193,46,75,15,"response"],[193,54,72,29],[195,0,72,29],[196,0,72,29],[197,0,72,29],[198,0,77,8,"console"],[198,12,77,8,"console"],[198,19,77,15],[198,20,77,16,"log"],[198,23,77,8],[198,24,77,20],[198,33,77,8],[199,0,72,29],[201,0,72,29],[202,0,72,29],[203,0,72,29],[204,0,72,29],[205,0,72,29],[206,0,72,29],[207,0,72,29],[207,3,72,7],[211,0,82,7],[211,6,82,13,"getFavtAds"],[211,16,82,23],[211,19,82,26],[211,28,82,13,"getFavtAds"],[211,38,82,26],[212,0,82,26],[213,0,82,26],[214,0,82,26],[215,0,82,26],[216,0,82,26],[217,0,82,26],[218,0,82,26],[218,46,83,23],[218,77,82,26],[220,0,82,26],[221,0,83,8,"userId"],[221,12,83,8,"userId"],[221,18,82,26],[222,0,82,26],[223,0,82,26],[224,0,82,26],[224,46,85,28,"axios"],[224,61,85,34,"get"],[224,64,85,28],[224,65,85,41,"API"],[224,77,85,28],[224,107,85,69,"userId"],[224,113,85,28],[224,114,82,26],[226,0,82,26],[227,0,85,12,"favtAds"],[227,12,85,12,"favtAds"],[227,19,82,26],[228,0,86,8,"console"],[228,12,86,8,"console"],[228,19,86,15],[228,20,86,16,"warn"],[228,24,86,8],[228,25,86,21],[228,36,86,8],[228,38,86,34,"favtAds"],[228,45,86,8],[229,0,87,14,"ads"],[229,12,87,14,"ads"],[229,15,82,26],[229,18,87,22,"favtAds"],[229,25,87,29],[229,26,87,30,"data"],[229,30,82,26],[229,31,87,14,"ads"],[229,34,82,26],[230,0,88,12,"res"],[230,12,88,12,"res"],[230,15,82,26],[230,18,88,18],[231,0,89,12,"ads"],[231,14,89,12,"ads"],[231,17,89,15],[231,19,89,12,"ads"],[232,0,88,18],[232,13,82,26],[233,0,82,26],[233,46,91,15,"res"],[233,49,82,26],[235,0,82,26],[236,0,82,26],[237,0,82,26],[238,0,93,8,"console"],[238,12,93,8,"console"],[238,19,93,15],[238,20,93,16,"log"],[238,23,93,8],[238,24,93,20],[238,33,93,8],[239,0,82,26],[241,0,82,26],[242,0,82,26],[243,0,82,26],[244,0,82,26],[245,0,82,26],[246,0,82,26],[247,0,82,26],[247,3,82,7]]},"type":"js/module"}]}