{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"react-native-firebase","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.checkFirebasePermission = exports.requestFirebaseMessagingPermission = exports.getFirebaseToken = exports.requestGalleryPermission = exports.requestCameraPermission = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _reactNativeFirebase = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"react-native-firebase\"));\n\n  var _this = this;\n\n  var requestCameraPermission = function requestCameraPermission() {\n    var granted;\n    return _regenerator.default.async(function requestCameraPermission$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap(_reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.CAMERA, {\n              title: 'Cool Photo App Camera Permission',\n              message: 'Cool Photo App needs access to your camera ' + 'so you can take awesome pictures.',\n              buttonNeutral: 'Ask Me Later',\n              buttonNegative: 'Cancel',\n              buttonPositive: 'OK'\n            }));\n\n          case 3:\n            granted = _context.sent;\n\n            if (!(granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED)) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\", granted);\n\n          case 9:\n            console.log('Camera permission denied');\n\n          case 10:\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]]);\n  };\n\n  exports.requestCameraPermission = requestCameraPermission;\n\n  var requestGalleryPermission = function requestGalleryPermission() {\n    var granted;\n    return _regenerator.default.async(function requestGalleryPermission$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regenerator.default.awrap(_reactNative.PermissionsAndroid.request(_reactNative.PermissionsAndroid.PERMISSIONS.READ_EXTERNAL_STORAGE, {\n              title: 'Cool Photo App Camera Permission',\n              message: 'Cool Photo App needs access to your camera ' + 'so you can take awesome pictures.',\n              buttonNeutral: 'Ask Me Later',\n              buttonNegative: 'Cancel',\n              buttonPositive: 'OK'\n            }));\n\n          case 3:\n            granted = _context2.sent;\n\n            if (!(granted === _reactNative.PermissionsAndroid.RESULTS.GRANTED)) {\n              _context2.next = 9;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", granted);\n\n          case 9:\n            console.log('Camera permission denied');\n\n          case 10:\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 12]]);\n  };\n\n  exports.requestGalleryPermission = requestGalleryPermission;\n\n  var requestFirebaseMessagingPermission = function requestFirebaseMessagingPermission() {\n    var granted;\n    return _regenerator.default.async(function requestFirebaseMessagingPermission$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regenerator.default.awrap(_reactNativeFirebase.default.messaging().requestPermission());\n\n          case 3:\n            granted = _context3.sent;\n\n            if (granted) {\n              checkFirebasePermission();\n            }\n\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log('error: ', _context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]]);\n  };\n\n  exports.requestFirebaseMessagingPermission = requestFirebaseMessagingPermission;\n\n  var getFirebaseToken = function getFirebaseToken() {\n    var fcmToken;\n    return _regenerator.default.async(function getFirebaseToken$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regenerator.default.awrap(AsyncStorage.getItem('fcmToken'));\n\n          case 2:\n            fcmToken = _context4.sent;\n\n            if (fcmToken) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 6;\n            return _regenerator.default.awrap(_reactNativeFirebase.default.messaging().getToken());\n\n          case 6:\n            fcmToken = _context4.sent;\n\n            if (!fcmToken) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 10;\n            return _regenerator.default.awrap(AsyncStorage.setItem('fcmToken', fcmToken));\n\n          case 10:\n            console.warn('fcmToken: ', fcmToken);\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    });\n  };\n\n  exports.getFirebaseToken = getFirebaseToken;\n\n  var checkFirebasePermission = function checkFirebasePermission() {\n    try {\n      _reactNativeFirebase.default.messaging().hasPermission().then(function (enabled) {\n        if (enabled) {\n          _this.getToken();\n        } else {\n          _this.requestFirebaseMessagingPermission();\n        }\n      });\n    } catch (error) {\n      console.log('error: ', error);\n    }\n  };\n\n  exports.checkFirebasePermission = checkFirebasePermission;\n});","map":[[11,0,1,0],[13,0,2,0],[17,0,4,0],[17,6,4,6,"requestCameraPermission"],[17,29,4,29],[17,32,4,32],[17,41,4,6,"requestCameraPermission"],[17,64,4,32],[18,0,4,32],[19,0,4,32],[20,0,4,32],[21,0,4,32],[22,0,4,32],[23,0,4,32],[24,0,4,32],[25,0,4,32],[25,46,6,30,"PermissionsAndroid"],[25,78,6,49,"request"],[25,85,6,30],[25,86,6,57,"PermissionsAndroid"],[25,118,6,76,"PERMISSIONS"],[25,129,6,57],[25,130,6,88,"CAMERA"],[25,136,6,30],[25,138,6,96],[26,0,7,12,"title"],[26,14,7,12,"title"],[26,19,7,17],[26,21,7,19],[26,55,6,96],[27,0,8,12,"message"],[27,14,8,12,"message"],[27,21,8,19],[27,23,8,21],[27,71,8,69],[27,106,6,96],[28,0,9,12,"buttonNeutral"],[28,14,9,12,"buttonNeutral"],[28,27,9,25],[28,29,9,27],[28,43,6,96],[29,0,10,12,"buttonNegative"],[29,14,10,12,"buttonNegative"],[29,28,10,26],[29,30,10,28],[29,38,6,96],[30,0,11,12,"buttonPositive"],[30,14,11,12,"buttonPositive"],[30,28,11,26],[30,30,11,28],[31,0,6,96],[31,13,6,30],[31,14,4,32],[33,0,4,32],[34,0,6,14,"granted"],[34,12,6,14,"granted"],[34,19,4,32],[36,0,4,32],[36,18,13,12,"granted"],[36,25,13,19],[36,30,13,24,"PermissionsAndroid"],[36,62,13,43,"RESULTS"],[36,69,13,24],[36,70,13,51,"GRANTED"],[36,77,4,32],[37,0,4,32],[38,0,4,32],[39,0,4,32],[41,0,4,32],[41,45,14,19,"granted"],[41,52,4,32],[43,0,4,32],[44,0,18,12,"console"],[44,12,18,12,"console"],[44,19,18,19],[44,20,18,20,"log"],[44,23,18,12],[44,24,18,24],[44,50,18,12],[46,0,4,32],[47,0,4,32],[48,0,4,32],[50,0,4,32],[51,0,4,32],[52,0,4,32],[53,0,4,32],[55,0,4,32],[56,0,4,32],[57,0,4,32],[58,0,4,32],[59,0,4,32],[60,0,4,32],[61,0,4,32],[61,3,4,0],[65,0,26,0],[65,6,26,6,"requestGalleryPermission"],[65,30,26,30],[65,33,26,33],[65,42,26,6,"requestGalleryPermission"],[65,66,26,33],[66,0,26,33],[67,0,26,33],[68,0,26,33],[69,0,26,33],[70,0,26,33],[71,0,26,33],[72,0,26,33],[73,0,26,33],[73,46,28,30,"PermissionsAndroid"],[73,78,28,49,"request"],[73,85,28,30],[73,86,28,57,"PermissionsAndroid"],[73,118,28,76,"PERMISSIONS"],[73,129,28,57],[73,130,28,88,"READ_EXTERNAL_STORAGE"],[73,151,28,30],[73,153,28,111],[74,0,29,12,"title"],[74,14,29,12,"title"],[74,19,29,17],[74,21,29,19],[74,55,28,111],[75,0,30,12,"message"],[75,14,30,12,"message"],[75,21,30,19],[75,23,30,21],[75,71,30,69],[75,106,28,111],[76,0,31,12,"buttonNeutral"],[76,14,31,12,"buttonNeutral"],[76,27,31,25],[76,29,31,27],[76,43,28,111],[77,0,32,12,"buttonNegative"],[77,14,32,12,"buttonNegative"],[77,28,32,26],[77,30,32,28],[77,38,28,111],[78,0,33,12,"buttonPositive"],[78,14,33,12,"buttonPositive"],[78,28,33,26],[78,30,33,28],[79,0,28,111],[79,13,28,30],[79,14,26,33],[81,0,26,33],[82,0,28,14,"granted"],[82,12,28,14,"granted"],[82,19,26,33],[84,0,26,33],[84,18,35,12,"granted"],[84,25,35,19],[84,30,35,24,"PermissionsAndroid"],[84,62,35,43,"RESULTS"],[84,69,35,24],[84,70,35,51,"GRANTED"],[84,77,26,33],[85,0,26,33],[86,0,26,33],[87,0,26,33],[89,0,26,33],[89,46,36,19,"granted"],[89,53,26,33],[91,0,26,33],[92,0,39,12,"console"],[92,12,39,12,"console"],[92,19,39,19],[92,20,39,20,"log"],[92,23,39,12],[92,24,39,24],[92,50,39,12],[94,0,26,33],[95,0,26,33],[96,0,26,33],[98,0,26,33],[99,0,26,33],[100,0,26,33],[101,0,26,33],[103,0,26,33],[104,0,26,33],[105,0,26,33],[106,0,26,33],[107,0,26,33],[108,0,26,33],[109,0,26,33],[109,3,26,0],[113,0,47,0],[113,6,47,6,"requestFirebaseMessagingPermission"],[113,40,47,40],[113,43,47,43],[113,52,47,6,"requestFirebaseMessagingPermission"],[113,86,47,43],[114,0,47,43],[115,0,47,43],[116,0,47,43],[117,0,47,43],[118,0,47,43],[119,0,47,43],[120,0,47,43],[121,0,47,43],[121,46,49,28,"firebase"],[121,75,49,37,"messaging"],[121,84,49,28],[121,87,49,49,"requestPermission"],[121,104,49,28],[121,106,47,43],[123,0,47,43],[124,0,49,12,"granted"],[124,12,49,12,"granted"],[124,19,47,43],[126,0,50,8],[126,16,50,12,"granted"],[126,23,50,8],[126,25,50,21],[127,0,51,12,"checkFirebasePermission"],[127,14,51,12,"checkFirebasePermission"],[127,37,51,35],[128,0,52,9],[130,0,47,43],[131,0,47,43],[133,0,47,43],[134,0,47,43],[135,0,47,43],[136,0,54,8,"console"],[136,12,54,8,"console"],[136,19,54,15],[136,20,54,16,"log"],[136,23,54,8],[136,24,54,20],[136,33,54,8],[138,0,47,43],[139,0,47,43],[140,0,47,43],[141,0,47,43],[142,0,47,43],[143,0,47,43],[144,0,47,43],[144,3,47,0],[148,0,58,0],[148,6,58,6,"getFirebaseToken"],[148,22,58,22],[148,25,58,25],[148,34,58,6,"getFirebaseToken"],[148,50,58,25],[149,0,58,25],[150,0,58,25],[151,0,58,25],[152,0,58,25],[153,0,58,25],[154,0,58,25],[155,0,58,25],[155,46,59,25,"AsyncStorage"],[155,58,59,37],[155,59,59,38,"getItem"],[155,66,59,25],[155,67,59,46],[155,77,59,25],[155,78,58,25],[157,0,58,25],[158,0,59,8,"fcmToken"],[158,12,59,8,"fcmToken"],[158,20,58,25],[160,0,58,25],[160,16,60,9,"fcmToken"],[160,24,58,25],[161,0,58,25],[162,0,58,25],[163,0,58,25],[165,0,58,25],[166,0,58,25],[166,46,61,25,"firebase"],[166,75,61,34,"messaging"],[166,84,61,25],[166,87,61,46,"getToken"],[166,95,61,25],[166,97,58,25],[168,0,58,25],[169,0,61,8,"fcmToken"],[169,12,61,8,"fcmToken"],[169,20,58,25],[171,0,58,25],[171,17,62,12,"fcmToken"],[171,25,58,25],[172,0,58,25],[173,0,58,25],[174,0,58,25],[176,0,58,25],[177,0,58,25],[177,46,63,18,"AsyncStorage"],[177,58,63,30],[177,59,63,31,"setItem"],[177,66,63,18],[177,67,63,39],[177,77,63,18],[177,79,63,51,"fcmToken"],[177,87,63,18],[177,88,58,25],[179,0,58,25],[180,0,66,4,"console"],[180,12,66,4,"console"],[180,19,66,11],[180,20,66,12,"warn"],[180,24,66,4],[180,25,66,17],[180,37,66,4],[180,39,66,31,"fcmToken"],[180,47,66,4],[182,0,58,25],[183,0,58,25],[184,0,58,25],[185,0,58,25],[186,0,58,25],[187,0,58,25],[188,0,58,25],[188,3,58,0],[192,0,69,0],[192,6,69,6,"checkFirebasePermission"],[192,29,69,29],[192,32,69,32],[192,41,69,6,"checkFirebasePermission"],[192,64,69,32],[192,67,69,38],[193,0,70,4],[193,8,70,8],[194,0,71,8,"firebase"],[194,35,71,17,"messaging"],[194,44,71,8],[194,47,71,29,"hasPermission"],[194,60,71,8],[194,63,71,45,"then"],[194,67,71,8],[194,68,71,50],[194,78,71,51,"enabled"],[194,85,71,50],[194,87,71,63],[195,0,72,12],[195,12,72,16,"enabled"],[195,19,72,12],[195,21,72,25],[196,0,73,16],[196,10,73,16],[196,15,73,20],[196,16,73,21,"getToken"],[196,24,73,16],[197,0,74,13],[197,9,72,12],[197,15,74,19],[198,0,75,16],[198,10,75,16],[198,15,75,20],[198,16,75,21,"requestFirebaseMessagingPermission"],[198,50,75,16],[199,0,76,13],[200,0,77,9],[200,7,71,8],[201,0,78,5],[201,5,70,4],[201,6,78,6],[201,13,78,13,"error"],[201,18,78,6],[201,20,78,20],[202,0,79,8,"console"],[202,6,79,8,"console"],[202,13,79,15],[202,14,79,16,"log"],[202,17,79,8],[202,18,79,20],[202,27,79,8],[202,29,79,31,"error"],[202,34,79,8],[203,0,80,5],[204,0,81,1],[204,3,69,0]]},"type":"js/module"}]}