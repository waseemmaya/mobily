{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"axios","data":{"isAsync":false}},{"name":"../API/API","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getCurrentUser = exports.getUserID = exports.isLoggedin = exports.onLogout = exports.onLogin = exports.onSignup = exports.USER_ID = exports.USER_TOKEN = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _axios = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"axios\"));\n\n  var _API = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../API/API\"));\n\n  var USER_TOKEN = 'UserAuthToken';\n  exports.USER_TOKEN = USER_TOKEN;\n  var USER_ID = 'UserID';\n  exports.USER_ID = USER_ID;\n\n  var onSignup = function onSignup(signupObj) {\n    var res;\n    return _regenerator.default.async(function onSignup$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"register\",\n              data: {\n                signupObj: signupObj\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 3:\n            res = _context.sent;\n\n            if (!(res.status === 200)) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.setItem(USER_TOKEN, res.data._id));\n\n          case 7:\n            return _context.abrupt(\"return\", true);\n\n          case 10:\n            return _context.abrupt(\"return\", false);\n\n          case 11:\n            _context.next = 17;\n            break;\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](0);\n            console.warn('error: ', _context.t0);\n            return _context.abrupt(\"return\", false);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 13]]);\n  };\n\n  exports.onSignup = onSignup;\n\n  var onLogin = function onLogin(email, password) {\n    var loginObj, res, _res$data, token, userID;\n\n    return _regenerator.default.async(function onLogin$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loginObj = {\n              email: email,\n              password: password\n            };\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"login\",\n              data: {\n                loginObj: loginObj\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 4:\n            res = _context2.sent;\n\n            if (!(res.status === 200)) {\n              _context2.next = 14;\n              break;\n            }\n\n            _res$data = res.data, token = _res$data.token, userID = _res$data.userID;\n            _context2.next = 9;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.setItem(USER_TOKEN, token));\n\n          case 9:\n            _context2.next = 11;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.setItem(USER_ID, userID));\n\n          case 11:\n            return _context2.abrupt(\"return\", true);\n\n          case 14:\n            return _context2.abrupt(\"return\", false);\n\n          case 15:\n            _context2.next = 21;\n            break;\n\n          case 17:\n            _context2.prev = 17;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log('error: ', _context2.t0);\n            return _context2.abrupt(\"return\", false);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 17]]);\n  };\n\n  exports.onLogin = onLogin;\n\n  var onLogout = function onLogout() {\n    var logoutRes, logoutRes2;\n    return _regenerator.default.async(function onLogout$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.removeItem(USER_TOKEN));\n\n          case 2:\n            logoutRes = _context3.sent;\n            _context3.next = 5;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.removeItem(USER_ID));\n\n          case 5:\n            logoutRes2 = _context3.sent;\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n\n  exports.onLogout = onLogout;\n\n  var isLoggedin = function isLoggedin() {\n    var userToken, userID;\n    return _regenerator.default.async(function isLoggedin$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_TOKEN));\n\n          case 2:\n            userToken = _context4.sent;\n            _context4.next = 5;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_ID));\n\n          case 5:\n            userID = _context4.sent;\n            return _context4.abrupt(\"return\", userToken !== null ? true : false);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    });\n  };\n\n  exports.isLoggedin = isLoggedin;\n\n  var getUserID = function getUserID() {\n    var userID;\n    return _regenerator.default.async(function getUserID$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_ID));\n\n          case 2:\n            userID = _context5.sent;\n            return _context5.abrupt(\"return\", userID);\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    });\n  };\n\n  exports.getUserID = getUserID;\n\n  var getCurrentUser = function getCurrentUser() {\n    var userId, res;\n    return _regenerator.default.async(function getCurrentUser$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regenerator.default.awrap(getUserID());\n\n          case 3:\n            userId = _context6.sent;\n            _context6.next = 6;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"currentuser\",\n              data: {\n                userId: userId\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 6:\n            res = _context6.sent;\n            return _context6.abrupt(\"return\", res.data);\n\n          case 10:\n            _context6.prev = 10;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.warn('error: ', _context6.t0);\n            return _context6.abrupt(\"return\", _context6.t0);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 10]]);\n  };\n\n  exports.getCurrentUser = getCurrentUser;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,5,7],[17,6,5,13,"USER_TOKEN"],[17,16,5,23],[17,19,5,26],[17,34,5,7],[19,0,6,7],[19,6,6,13,"USER_ID"],[19,13,6,20],[19,16,6,23],[19,24,6,7],[22,0,8,7],[22,6,8,13,"onSignup"],[22,14,8,21],[22,17,8,24],[22,26,8,13,"onSignup"],[22,34,8,24],[22,35,8,31,"signupObj"],[22,44,8,24],[23,0,8,24],[24,0,8,24],[25,0,8,24],[26,0,8,24],[27,0,8,24],[28,0,8,24],[29,0,8,24],[30,0,8,24],[30,46,10,24],[30,66,10,30],[31,0,11,12,"method"],[31,14,11,12,"method"],[31,20,11,18],[31,22,11,20],[31,28,10,30],[32,0,12,12,"url"],[32,14,12,12,"url"],[32,17,12,15],[32,19,12,20,"API"],[32,31,12,15],[32,44,10,30],[33,0,13,12,"data"],[33,14,13,12,"data"],[33,18,13,16],[33,20,13,18],[34,0,14,16,"signupObj"],[34,16,14,16,"signupObj"],[34,25,14,25],[34,27,14,27,"signupObj"],[35,0,13,18],[35,15,10,30],[36,0,16,12,"headers"],[36,14,16,12,"headers"],[36,21,16,19],[36,23,16,21],[37,0,17,16],[37,32,17,32],[38,0,16,21],[39,0,10,30],[39,13,10,24],[39,14,8,24],[41,0,8,24],[42,0,10,12,"res"],[42,12,10,12,"res"],[42,15,8,24],[44,0,8,24],[44,18,21,12,"res"],[44,21,21,15],[44,22,21,16,"status"],[44,28,21,12],[44,33,21,27],[44,36,8,24],[45,0,8,24],[46,0,8,24],[47,0,8,24],[49,0,8,24],[50,0,8,24],[50,46,22,18,"AsyncStorage"],[50,72,22,31,"setItem"],[50,79,22,18],[50,80,22,39,"USER_TOKEN"],[50,90,22,18],[50,92,22,51,"res"],[50,95,22,54],[50,96,22,55,"data"],[50,100,22,51],[50,101,22,60,"_id"],[50,104,22,18],[50,105,8,24],[52,0,8,24],[53,0,8,24],[53,45,23,19],[53,49,8,24],[55,0,8,24],[56,0,8,24],[56,45,25,19],[56,50,8,24],[58,0,8,24],[59,0,8,24],[60,0,8,24],[62,0,8,24],[63,0,8,24],[64,0,8,24],[65,0,28,8,"console"],[65,12,28,8,"console"],[65,19,28,15],[65,20,28,16,"warn"],[65,24,28,8],[65,25,28,21],[65,34,28,8],[66,0,8,24],[66,45,29,15],[66,50,8,24],[68,0,8,24],[69,0,8,24],[70,0,8,24],[71,0,8,24],[72,0,8,24],[73,0,8,24],[74,0,8,24],[74,3,8,7],[78,0,33,7],[78,6,33,13,"onLogin"],[78,13,33,20],[78,16,33,23],[78,25,33,13,"onLogin"],[78,32,33,23],[78,33,33,30,"email"],[78,38,33,23],[78,40,33,37,"password"],[78,48,33,23],[79,0,33,23],[81,0,33,23],[82,0,33,23],[83,0,33,23],[84,0,33,23],[85,0,34,8,"loginObj"],[85,12,34,8,"loginObj"],[85,20,33,23],[85,23,34,19],[86,0,35,8,"email"],[86,14,35,8,"email"],[86,19,35,13],[86,21,35,8,"email"],[86,26,34,19],[87,0,36,8,"password"],[87,14,36,8,"password"],[87,22,36,16],[87,24,36,8,"password"],[88,0,34,19],[88,13,33,23],[89,0,33,23],[90,0,33,23],[91,0,33,23],[91,46,39,24],[91,66,39,30],[92,0,40,12,"method"],[92,14,40,12,"method"],[92,20,40,18],[92,22,40,20],[92,28,39,30],[93,0,41,12,"url"],[93,14,41,12,"url"],[93,17,41,15],[93,19,41,20,"API"],[93,31,41,15],[93,41,39,30],[94,0,42,12,"data"],[94,14,42,12,"data"],[94,18,42,16],[94,20,42,18],[95,0,43,16,"loginObj"],[95,16,43,16,"loginObj"],[95,24,43,24],[95,26,43,26,"loginObj"],[96,0,42,18],[96,15,39,30],[97,0,45,12,"headers"],[97,14,45,12,"headers"],[97,21,45,19],[97,23,45,21],[98,0,46,16],[98,32,46,32],[99,0,45,21],[100,0,39,30],[100,13,39,24],[100,14,33,23],[102,0,33,23],[103,0,39,12,"res"],[103,12,39,12,"res"],[103,15,33,23],[105,0,33,23],[105,18,49,12,"res"],[105,21,49,15],[105,22,49,16,"status"],[105,28,49,12],[105,33,49,27],[105,36,33,23],[106,0,33,23],[107,0,33,23],[108,0,33,23],[110,0,33,23],[110,24,50,38,"res"],[110,27,50,41],[110,28,50,42,"data"],[110,32,33,23],[110,34,50,20,"token"],[110,39,33,23],[110,52,50,20,"token"],[110,57,33,23],[110,59,50,27,"userID"],[110,65,33,23],[110,78,50,27,"userID"],[110,84,33,23],[111,0,33,23],[112,0,33,23],[112,46,51,18,"AsyncStorage"],[112,72,51,31,"setItem"],[112,79,51,18],[112,80,51,39,"USER_TOKEN"],[112,90,51,18],[112,92,51,51,"token"],[112,97,51,18],[112,98,33,23],[114,0,33,23],[115,0,33,23],[116,0,33,23],[116,46,52,18,"AsyncStorage"],[116,72,52,31,"setItem"],[116,79,52,18],[116,80,52,39,"USER_ID"],[116,87,52,18],[116,89,52,48,"userID"],[116,95,52,18],[116,96,33,23],[118,0,33,23],[119,0,33,23],[119,46,53,19],[119,50,33,23],[121,0,33,23],[122,0,33,23],[122,46,55,19],[122,51,33,23],[124,0,33,23],[125,0,33,23],[126,0,33,23],[128,0,33,23],[129,0,33,23],[130,0,33,23],[131,0,58,8,"console"],[131,12,58,8,"console"],[131,19,58,15],[131,20,58,16,"log"],[131,23,58,8],[131,24,58,20],[131,33,58,8],[132,0,33,23],[132,46,59,15],[132,51,33,23],[134,0,33,23],[135,0,33,23],[136,0,33,23],[137,0,33,23],[138,0,33,23],[139,0,33,23],[140,0,33,23],[140,3,33,7],[144,0,63,7],[144,6,63,13,"onLogout"],[144,14,63,21],[144,17,63,24],[144,26,63,13,"onLogout"],[144,34,63,24],[145,0,63,24],[146,0,63,24],[147,0,63,24],[148,0,63,24],[149,0,63,24],[150,0,63,24],[151,0,63,24],[151,46,64,28,"AsyncStorage"],[151,72,64,41,"removeItem"],[151,82,64,28],[151,83,64,52,"USER_TOKEN"],[151,93,64,28],[151,94,63,24],[153,0,63,24],[154,0,64,10,"logoutRes"],[154,12,64,10,"logoutRes"],[154,21,63,24],[155,0,63,24],[156,0,63,24],[156,46,65,29,"AsyncStorage"],[156,72,65,42,"removeItem"],[156,82,65,29],[156,83,65,53,"USER_ID"],[156,90,65,29],[156,91,63,24],[158,0,63,24],[159,0,65,10,"logoutRes2"],[159,12,65,10,"logoutRes2"],[159,22,63,24],[161,0,63,24],[162,0,63,24],[163,0,63,24],[164,0,63,24],[165,0,63,24],[166,0,63,24],[167,0,63,24],[167,3,63,7],[171,0,70,7],[171,6,70,13,"isLoggedin"],[171,16,70,23],[171,19,70,26],[171,28,70,13,"isLoggedin"],[171,38,70,26],[172,0,70,26],[173,0,70,26],[174,0,70,26],[175,0,70,26],[176,0,70,26],[177,0,70,26],[178,0,70,26],[178,46,71,26,"AsyncStorage"],[178,72,71,39,"getItem"],[178,79,71,26],[178,80,71,47,"USER_TOKEN"],[178,90,71,26],[178,91,70,26],[180,0,70,26],[181,0,71,8,"userToken"],[181,12,71,8,"userToken"],[181,21,70,26],[182,0,70,26],[183,0,70,26],[183,46,72,23,"AsyncStorage"],[183,72,72,36,"getItem"],[183,79,72,23],[183,80,72,44,"USER_ID"],[183,87,72,23],[183,88,70,26],[185,0,70,26],[186,0,72,8,"userID"],[186,12,72,8,"userID"],[186,18,70,26],[187,0,70,26],[187,46,73,11,"userToken"],[187,55,73,20],[187,60,73,25],[187,64,73,11],[187,67,73,32],[187,71,73,11],[187,74,73,39],[187,79,70,26],[189,0,70,26],[190,0,70,26],[191,0,70,26],[192,0,70,26],[193,0,70,26],[194,0,70,26],[195,0,70,26],[195,3,70,7],[199,0,76,7],[199,6,76,13,"getUserID"],[199,15,76,22],[199,18,76,25],[199,27,76,13,"getUserID"],[199,36,76,25],[200,0,76,25],[201,0,76,25],[202,0,76,25],[203,0,76,25],[204,0,76,25],[205,0,76,25],[206,0,76,25],[206,46,77,23,"AsyncStorage"],[206,72,77,36,"getItem"],[206,79,77,23],[206,80,77,44,"USER_ID"],[206,87,77,23],[206,88,76,25],[208,0,76,25],[209,0,77,8,"userID"],[209,12,77,8,"userID"],[209,18,76,25],[210,0,76,25],[210,46,78,11,"userID"],[210,52,76,25],[212,0,76,25],[213,0,76,25],[214,0,76,25],[215,0,76,25],[216,0,76,25],[217,0,76,25],[218,0,76,25],[218,3,76,7],[222,0,81,7],[222,6,81,13,"getCurrentUser"],[222,20,81,27],[222,23,81,30],[222,32,81,13,"getCurrentUser"],[222,46,81,30],[223,0,81,30],[224,0,81,30],[225,0,81,30],[226,0,81,30],[227,0,81,30],[228,0,81,30],[229,0,81,30],[230,0,81,30],[230,46,83,27,"getUserID"],[230,55,83,36],[230,57,81,30],[232,0,81,30],[233,0,83,12,"userId"],[233,12,83,12,"userId"],[233,18,81,30],[234,0,81,30],[235,0,81,30],[235,46,84,24],[235,66,84,30],[236,0,85,12,"method"],[236,14,85,12,"method"],[236,20,85,18],[236,22,85,20],[236,28,84,30],[237,0,86,12,"url"],[237,14,86,12,"url"],[237,17,86,15],[237,19,86,20,"API"],[237,31,86,15],[237,47,84,30],[238,0,87,12,"data"],[238,14,87,12,"data"],[238,18,87,16],[238,20,87,18],[239,0,88,16,"userId"],[239,16,88,16,"userId"],[239,22,88,22],[239,24,88,24,"userId"],[240,0,87,18],[240,15,84,30],[241,0,90,12,"headers"],[241,14,90,12,"headers"],[241,21,90,19],[241,23,90,21],[242,0,91,16],[242,32,91,32],[243,0,90,21],[244,0,84,30],[244,13,84,24],[244,14,81,30],[246,0,81,30],[247,0,84,12,"res"],[247,12,84,12,"res"],[247,15,81,30],[248,0,81,30],[248,46,95,15,"res"],[248,49,95,18],[248,50,95,19,"data"],[248,54,81,30],[250,0,81,30],[251,0,81,30],[252,0,81,30],[253,0,97,8,"console"],[253,12,97,8,"console"],[253,19,97,15],[253,20,97,16,"warn"],[253,24,97,8],[253,25,97,21],[253,34,97,8],[254,0,81,30],[256,0,81,30],[257,0,81,30],[258,0,81,30],[259,0,81,30],[260,0,81,30],[261,0,81,30],[262,0,81,30],[262,3,81,7]]},"type":"js/module"}]}