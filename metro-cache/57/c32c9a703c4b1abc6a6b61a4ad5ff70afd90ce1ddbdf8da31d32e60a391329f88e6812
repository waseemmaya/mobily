{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"axios","data":{"isAsync":false}},{"name":"../API/API","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getCurrentUser = exports.getUserID = exports.isLoggedin = exports.onLogout = exports.onLogin = exports.onSignup = exports.USER_ID = exports.USER_TOKEN = void 0;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/regenerator\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[2], \"react-native\");\n\n  var _axios = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"axios\"));\n\n  var _API = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../API/API\"));\n\n  var USER_TOKEN = 'UserAuthToken';\n  exports.USER_TOKEN = USER_TOKEN;\n  var USER_ID = 'UserID';\n  exports.USER_ID = USER_ID;\n\n  var onSignup = function onSignup(signupObj) {\n    return _regenerator.default.async(function onSignup$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"register\",\n              data: {\n                signupObj: signupObj\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  exports.onSignup = onSignup;\n\n  var onLogin = function onLogin(email, password) {\n    var loginObj, res, _res$data, token, userID;\n\n    return _regenerator.default.async(function onLogin$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            loginObj = {\n              email: email,\n              password: password\n            };\n            _context2.prev = 1;\n            _context2.next = 4;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"login\",\n              data: {\n                loginObj: loginObj\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 4:\n            res = _context2.sent;\n\n            if (!(res.status === 200)) {\n              _context2.next = 14;\n              break;\n            }\n\n            _res$data = res.data, token = _res$data.token, userID = _res$data.userID;\n            _context2.next = 9;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.setItem(USER_TOKEN, token));\n\n          case 9:\n            _context2.next = 11;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.setItem(USER_ID, userID));\n\n          case 11:\n            return _context2.abrupt(\"return\", true);\n\n          case 14:\n            return _context2.abrupt(\"return\", false);\n\n          case 15:\n            _context2.next = 21;\n            break;\n\n          case 17:\n            _context2.prev = 17;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log('error: ', _context2.t0);\n            return _context2.abrupt(\"return\", false);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[1, 17]]);\n  };\n\n  exports.onLogin = onLogin;\n\n  var onLogout = function onLogout() {\n    var logoutRes, logoutRes2;\n    return _regenerator.default.async(function onLogout$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.removeItem(USER_TOKEN));\n\n          case 2:\n            logoutRes = _context3.sent;\n            _context3.next = 5;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.removeItem(USER_ID));\n\n          case 5:\n            logoutRes2 = _context3.sent;\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    });\n  };\n\n  exports.onLogout = onLogout;\n\n  var isLoggedin = function isLoggedin() {\n    var userToken, userID;\n    return _regenerator.default.async(function isLoggedin$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_TOKEN));\n\n          case 2:\n            userToken = _context4.sent;\n            _context4.next = 5;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_ID));\n\n          case 5:\n            userID = _context4.sent;\n            return _context4.abrupt(\"return\", userToken !== null ? true : false);\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    });\n  };\n\n  exports.isLoggedin = isLoggedin;\n\n  var getUserID = function getUserID() {\n    var userID;\n    return _regenerator.default.async(function getUserID$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem(USER_ID));\n\n          case 2:\n            userID = _context5.sent;\n            return _context5.abrupt(\"return\", userID);\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    });\n  };\n\n  exports.getUserID = getUserID;\n\n  var getCurrentUser = function getCurrentUser() {\n    var userId, res;\n    return _regenerator.default.async(function getCurrentUser$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regenerator.default.awrap(getUserID());\n\n          case 3:\n            userId = _context6.sent;\n            _context6.next = 6;\n            return _regenerator.default.awrap((0, _axios.default)({\n              method: 'post',\n              url: _API.default + \"currentuser\",\n              data: {\n                userId: userId\n              },\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }));\n\n          case 6:\n            res = _context6.sent;\n            return _context6.abrupt(\"return\", res.data);\n\n          case 10:\n            _context6.prev = 10;\n            _context6.t0 = _context6[\"catch\"](0);\n            console.warn('error: ', _context6.t0);\n            return _context6.abrupt(\"return\", _context6.t0);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 10]]);\n  };\n\n  exports.getCurrentUser = getCurrentUser;\n});","map":[[11,0,1,0],[13,0,2,0],[15,0,3,0],[17,0,5,7],[17,6,5,13,"USER_TOKEN"],[17,16,5,23],[17,19,5,26],[17,34,5,7],[19,0,6,7],[19,6,6,13,"USER_ID"],[19,13,6,20],[19,16,6,23],[19,24,6,7],[22,0,8,7],[22,6,8,13,"onSignup"],[22,14,8,21],[22,17,8,24],[22,26,8,13,"onSignup"],[22,34,8,24],[22,35,8,31,"signupObj"],[22,44,8,24],[23,0,8,24],[24,0,8,24],[25,0,8,24],[26,0,8,24],[27,0,8,24],[28,0,8,24],[28,46,9,17],[28,66,9,23],[29,0,10,8,"method"],[29,14,10,8,"method"],[29,20,10,14],[29,22,10,16],[29,28,9,23],[30,0,11,8,"url"],[30,14,11,8,"url"],[30,17,11,11],[30,19,11,16,"API"],[30,31,11,11],[30,44,9,23],[31,0,12,8,"data"],[31,14,12,8,"data"],[31,18,12,12],[31,20,12,14],[32,0,13,12,"signupObj"],[32,16,13,12,"signupObj"],[32,25,13,21],[32,27,13,23,"signupObj"],[33,0,12,14],[33,15,9,23],[34,0,15,8,"headers"],[34,14,15,8,"headers"],[34,21,15,15],[34,23,15,17],[35,0,16,12],[35,32,16,28],[36,0,15,17],[37,0,9,23],[37,13,9,17],[37,14,8,24],[39,0,8,24],[40,0,8,24],[42,0,8,24],[43,0,8,24],[44,0,8,24],[45,0,8,24],[46,0,8,24],[47,0,8,24],[48,0,8,24],[48,3,8,7],[52,0,21,7],[52,6,21,13,"onLogin"],[52,13,21,20],[52,16,21,23],[52,25,21,13,"onLogin"],[52,32,21,23],[52,33,21,30,"email"],[52,38,21,23],[52,40,21,37,"password"],[52,48,21,23],[53,0,21,23],[55,0,21,23],[56,0,21,23],[57,0,21,23],[58,0,21,23],[59,0,22,8,"loginObj"],[59,12,22,8,"loginObj"],[59,20,21,23],[59,23,22,19],[60,0,23,8,"email"],[60,14,23,8,"email"],[60,19,23,13],[60,21,23,8,"email"],[60,26,22,19],[61,0,24,8,"password"],[61,14,24,8,"password"],[61,22,24,16],[61,24,24,8,"password"],[62,0,22,19],[62,13,21,23],[63,0,21,23],[64,0,21,23],[65,0,21,23],[65,46,27,24],[65,66,27,30],[66,0,28,12,"method"],[66,14,28,12,"method"],[66,20,28,18],[66,22,28,20],[66,28,27,30],[67,0,29,12,"url"],[67,14,29,12,"url"],[67,17,29,15],[67,19,29,20,"API"],[67,31,29,15],[67,41,27,30],[68,0,30,12,"data"],[68,14,30,12,"data"],[68,18,30,16],[68,20,30,18],[69,0,31,16,"loginObj"],[69,16,31,16,"loginObj"],[69,24,31,24],[69,26,31,26,"loginObj"],[70,0,30,18],[70,15,27,30],[71,0,33,12,"headers"],[71,14,33,12,"headers"],[71,21,33,19],[71,23,33,21],[72,0,34,16],[72,32,34,32],[73,0,33,21],[74,0,27,30],[74,13,27,24],[74,14,21,23],[76,0,21,23],[77,0,27,12,"res"],[77,12,27,12,"res"],[77,15,21,23],[79,0,21,23],[79,18,37,12,"res"],[79,21,37,15],[79,22,37,16,"status"],[79,28,37,12],[79,33,37,27],[79,36,21,23],[80,0,21,23],[81,0,21,23],[82,0,21,23],[84,0,21,23],[84,24,38,38,"res"],[84,27,38,41],[84,28,38,42,"data"],[84,32,21,23],[84,34,38,20,"token"],[84,39,21,23],[84,52,38,20,"token"],[84,57,21,23],[84,59,38,27,"userID"],[84,65,21,23],[84,78,38,27,"userID"],[84,84,21,23],[85,0,21,23],[86,0,21,23],[86,46,39,18,"AsyncStorage"],[86,72,39,31,"setItem"],[86,79,39,18],[86,80,39,39,"USER_TOKEN"],[86,90,39,18],[86,92,39,51,"token"],[86,97,39,18],[86,98,21,23],[88,0,21,23],[89,0,21,23],[90,0,21,23],[90,46,40,18,"AsyncStorage"],[90,72,40,31,"setItem"],[90,79,40,18],[90,80,40,39,"USER_ID"],[90,87,40,18],[90,89,40,48,"userID"],[90,95,40,18],[90,96,21,23],[92,0,21,23],[93,0,21,23],[93,46,41,19],[93,50,21,23],[95,0,21,23],[96,0,21,23],[96,46,43,19],[96,51,21,23],[98,0,21,23],[99,0,21,23],[100,0,21,23],[102,0,21,23],[103,0,21,23],[104,0,21,23],[105,0,46,8,"console"],[105,12,46,8,"console"],[105,19,46,15],[105,20,46,16,"log"],[105,23,46,8],[105,24,46,20],[105,33,46,8],[106,0,21,23],[106,46,47,15],[106,51,21,23],[108,0,21,23],[109,0,21,23],[110,0,21,23],[111,0,21,23],[112,0,21,23],[113,0,21,23],[114,0,21,23],[114,3,21,7],[118,0,51,7],[118,6,51,13,"onLogout"],[118,14,51,21],[118,17,51,24],[118,26,51,13,"onLogout"],[118,34,51,24],[119,0,51,24],[120,0,51,24],[121,0,51,24],[122,0,51,24],[123,0,51,24],[124,0,51,24],[125,0,51,24],[125,46,52,28,"AsyncStorage"],[125,72,52,41,"removeItem"],[125,82,52,28],[125,83,52,52,"USER_TOKEN"],[125,93,52,28],[125,94,51,24],[127,0,51,24],[128,0,52,10,"logoutRes"],[128,12,52,10,"logoutRes"],[128,21,51,24],[129,0,51,24],[130,0,51,24],[130,46,53,29,"AsyncStorage"],[130,72,53,42,"removeItem"],[130,82,53,29],[130,83,53,53,"USER_ID"],[130,90,53,29],[130,91,51,24],[132,0,51,24],[133,0,53,10,"logoutRes2"],[133,12,53,10,"logoutRes2"],[133,22,51,24],[135,0,51,24],[136,0,51,24],[137,0,51,24],[138,0,51,24],[139,0,51,24],[140,0,51,24],[141,0,51,24],[141,3,51,7],[145,0,58,7],[145,6,58,13,"isLoggedin"],[145,16,58,23],[145,19,58,26],[145,28,58,13,"isLoggedin"],[145,38,58,26],[146,0,58,26],[147,0,58,26],[148,0,58,26],[149,0,58,26],[150,0,58,26],[151,0,58,26],[152,0,58,26],[152,46,59,26,"AsyncStorage"],[152,72,59,39,"getItem"],[152,79,59,26],[152,80,59,47,"USER_TOKEN"],[152,90,59,26],[152,91,58,26],[154,0,58,26],[155,0,59,8,"userToken"],[155,12,59,8,"userToken"],[155,21,58,26],[156,0,58,26],[157,0,58,26],[157,46,60,23,"AsyncStorage"],[157,72,60,36,"getItem"],[157,79,60,23],[157,80,60,44,"USER_ID"],[157,87,60,23],[157,88,58,26],[159,0,58,26],[160,0,60,8,"userID"],[160,12,60,8,"userID"],[160,18,58,26],[161,0,58,26],[161,46,61,11,"userToken"],[161,55,61,20],[161,60,61,25],[161,64,61,11],[161,67,61,32],[161,71,61,11],[161,74,61,39],[161,79,58,26],[163,0,58,26],[164,0,58,26],[165,0,58,26],[166,0,58,26],[167,0,58,26],[168,0,58,26],[169,0,58,26],[169,3,58,7],[173,0,64,7],[173,6,64,13,"getUserID"],[173,15,64,22],[173,18,64,25],[173,27,64,13,"getUserID"],[173,36,64,25],[174,0,64,25],[175,0,64,25],[176,0,64,25],[177,0,64,25],[178,0,64,25],[179,0,64,25],[180,0,64,25],[180,46,65,23,"AsyncStorage"],[180,72,65,36,"getItem"],[180,79,65,23],[180,80,65,44,"USER_ID"],[180,87,65,23],[180,88,64,25],[182,0,64,25],[183,0,65,8,"userID"],[183,12,65,8,"userID"],[183,18,64,25],[184,0,64,25],[184,46,66,11,"userID"],[184,52,64,25],[186,0,64,25],[187,0,64,25],[188,0,64,25],[189,0,64,25],[190,0,64,25],[191,0,64,25],[192,0,64,25],[192,3,64,7],[196,0,69,7],[196,6,69,13,"getCurrentUser"],[196,20,69,27],[196,23,69,30],[196,32,69,13,"getCurrentUser"],[196,46,69,30],[197,0,69,30],[198,0,69,30],[199,0,69,30],[200,0,69,30],[201,0,69,30],[202,0,69,30],[203,0,69,30],[204,0,69,30],[204,46,71,27,"getUserID"],[204,55,71,36],[204,57,69,30],[206,0,69,30],[207,0,71,12,"userId"],[207,12,71,12,"userId"],[207,18,69,30],[208,0,69,30],[209,0,69,30],[209,46,72,24],[209,66,72,30],[210,0,73,12,"method"],[210,14,73,12,"method"],[210,20,73,18],[210,22,73,20],[210,28,72,30],[211,0,74,12,"url"],[211,14,74,12,"url"],[211,17,74,15],[211,19,74,20,"API"],[211,31,74,15],[211,47,72,30],[212,0,75,12,"data"],[212,14,75,12,"data"],[212,18,75,16],[212,20,75,18],[213,0,76,16,"userId"],[213,16,76,16,"userId"],[213,22,76,22],[213,24,76,24,"userId"],[214,0,75,18],[214,15,72,30],[215,0,78,12,"headers"],[215,14,78,12,"headers"],[215,21,78,19],[215,23,78,21],[216,0,79,16],[216,32,79,32],[217,0,78,21],[218,0,72,30],[218,13,72,24],[218,14,69,30],[220,0,69,30],[221,0,72,12,"res"],[221,12,72,12,"res"],[221,15,69,30],[222,0,69,30],[222,46,83,15,"res"],[222,49,83,18],[222,50,83,19,"data"],[222,54,69,30],[224,0,69,30],[225,0,69,30],[226,0,69,30],[227,0,85,8,"console"],[227,12,85,8,"console"],[227,19,85,15],[227,20,85,16,"warn"],[227,24,85,8],[227,25,85,21],[227,34,85,8],[228,0,69,30],[230,0,69,30],[231,0,69,30],[232,0,69,30],[233,0,69,30],[234,0,69,30],[235,0,69,30],[236,0,69,30],[236,3,69,7]]},"type":"js/module"}]}